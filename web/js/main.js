"use strict";document.addEventListener("DOMContentLoaded",function(){function a(e){return e.split("").reverse().join("").replace(/(.{3})/g,"$1 ").split("").reverse().join("").replace(/\.\d+/,"")}var e=document.querySelector(".mobile__change"),t=document.querySelector(".hide-nav"),n=document.querySelector(".header__user"),o=document.querySelector(".nav"),i=document.querySelector(".header .container"),l=document.querySelector(".footer .container");t&&t.addEventListener("click",function(){this.classList.toggle("active"),o.classList.toggle("active"),document.body.classList.toggle("active")});function r(){document.documentElement.clientWidth<992?(o&&n&&o.insertAdjacentElement("afterbegin",n),o&&e&&o.insertAdjacentElement("beforeend",e)):(i&&n&&i.insertAdjacentElement("beforeend",n),l&&e&&l.insertAdjacentElement("afterbegin",e))}function c(){var e=this;this.el.addEventListener("mouseenter",function(){e.autoplay.stop()}),this.el.addEventListener("mouseleave",function(){e.autoplay.start()})}r(),window.addEventListener("resize",function(){r()});new Swiper(".professionals-js",{loop:!0,autoplay:{delay:2500,disableOnInteraction:!1},slidesPerView:6,spaceBetween:25,on:{init:c},breakpoints:{320:{slidesPerView:1},360:{slidesPerView:2,spaceBetween:5},450:{slidesPerView:2,spaceBetween:5},600:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:4,spaceBetween:15},1200:{slidesPerView:6,spaceBetween:15}}});var s,d=window.matchMedia("(min-width:768px)"),t=function(){!0===d.matches?void 0!==s&&s.initialized&&s.destroy(!0,!0):!1===d.matches&&(s=new Swiper(".news-js",{loop:!0,autoplay:{delay:2500,disableOnInteraction:!1},slidesPerView:2,spaceBetween:25,breakpoints:{320:{slidesPerView:1},576:{slidesPerView:2}}}))};d.addListener(t),t();new Swiper(".parthners-js",{loop:!0,on:{init:c},autoplay:{delay:2500,disableOnInteraction:!1},slidesPerView:6,spaceBetween:15,breakpoints:{320:{slidesPerView:2},360:{slidesPerView:3},600:{slidesPerView:4},768:{slidesPerView:5},1200:{slidesPerView:6}}}),new Swiper(".services-js",{breakpoints:{320:{slidesPerView:1,spaceBetween:15},576:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:5},1200:{slidesPerView:4,spaceBetween:25}}}),new Swiper(".interface-js",{spaceBetween:35,loop:!0,on:{init:c},autoplay:{delay:2500,disableOnInteraction:!1},navigation:{prevEl:".interface__arrow-l",nextEl:".interface__arrow-r"}}),new Swiper(".license-js",{observer:!0,observeParents:!0,spaceBetween:15,on:{init:c},autoplay:{delay:2500,disableOnInteraction:!1},breakpoints:{320:{slidesPerView:2},576:{slidesPerView:3},768:{slidesPerView:4}}});var u,t=new Swiper(".gallery-thumbs",{slidesPerView:4,freeMode:!0,loopedSlides:5,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{320:{spaceBetween:15},1199:{spaceBetween:25}}}),m=(new Swiper(".gallery-top",{spaceBetween:10,loopedSlides:5,thumbs:{swiper:t}}),document.querySelector(".range-filter"));m&&(y=+m.dataset.min,P=+m.dataset.max,u=[m.previousElementSibling.querySelector("input"),m.nextElementSibling.querySelector("input")],noUiSlider.create(m,{format:{to:function(e){return Math.round(e)},from:function(e){return Number(Math.round(e))}},start:[y,P],connect:!0,step:1,range:{min:y,max:P}}),m.noUiSlider.on("update",function(e,t){u[t].value=e[t]}),u.forEach(function(e,i){e.addEventListener("change",function(){m.noUiSlider.setHandle(i,this.value)}),e.addEventListener("keydown",function(e){var t,n=m.noUiSlider.get(),a=Number(n[i]),o=m.noUiSlider.steps()[i];switch(e.which){case 13:m.noUiSlider.setHandle(i,this.value);break;case 38:null!==(t=!1===(t=o[1])?1:t)&&m.noUiSlider.setHandle(i,a+t);break;case 40:null!==(t=!1===(t=o[0])?1:t)&&m.noUiSlider.setHandle(i,a-t)}})}));var p,b,g;function w(){var n;b.forEach(function(e){e.classList.remove("is-active")}),this.classList.add("is-active"),p=this.getAttribute("data-tab-name"),n=p,g.forEach(function(e){var t=e.classList;t.contains(n)?t.add("is-active"):t.remove("is-active"),setTimeout(function(){t.contains(n)?t.add("show"):t.remove("show")},100)})}b=document.querySelectorAll(".tabs-nav__item"),g=document.querySelectorAll(".tabs-content__item"),b.forEach(function(e){e.addEventListener("click",w)});var v={title:'ЛОК "Солнечная"',address:"Краснодарский край, г. Геленджик, ул. Туристическая, 19 "},f=document.querySelector("#map");f&&ymaps.ready(function(){var e=new ymaps.Map(f,{center:[44.58704957458791,38.045314],zoom:10,controls:["smallMapDefaultSet"]}),t=new ymaps.Placemark([44.58704957458791,38.045314],{balloonContentBody:function(e){return"\n\t\t\t<div class='map-content'>\n\t\t\t\t<a href='#'>".concat(e.title," </a>\n\t\t\t\t<p> ").concat(e.address,"</p>\n\t\t\t</div>\n\t\t")}(v),hintContent:v.title},{iconLayout:"default#imageWithContent",iconImageHref:"./web/images/general/hotel.svg",iconImageSize:[50,50],iconImageOffset:[-26,-46]});e.geoObjects.add(t)});var h,t=document.querySelectorAll(".accordion__col span"),y=document.querySelector(".accordion");y&&(h=new Masonry(y,{columnWidth:".accordion__col",itemSelector:".accordion__col",horizontalOrder:!0,gutter:15})),t&&t.forEach(function(e){return e.addEventListener("click",function(e){this.closest(".accordion__col").classList.toggle("show"),h.layout()})});var S,E,_,k=document.querySelector(".calculator__title"),q=document.querySelector(".calculator__seconds"),x=document.querySelector(".calculator__count"),A=document.querySelector(".calculator__total-price"),L=document.querySelector(".calculator__alert"),P=document.querySelector(".slider-calc"),T=document.querySelector('[name="calculator"]'),V=document.querySelector('[name="making"]'),$={300:{records:"не ограничено",title:"Самостоятельное внесение данных о Вашем здоровье",second:"Рекомендуем для уверенных пользователей",aletText:""},1e3:{records:"15",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Рекомендуем на начальном этапе использования ЭМК",aletText:"Количество записей внесенных самостоятельно не ограничено"},2e3:{records:"35",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Рекомендуем на начальном этапе использования ЭМК",aletText:"Количество записей внесенных самостоятельно не ограничено"},3e3:{records:"60",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Рекомендуем на начальном этапе использования ЭМК",aletText:"Количество записей внесенных самостоятельно не ограничено"},4e3:{records:"85",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Рекомендуем на начальном этапе использования ЭМК",aletText:"Количество записей внесенных самостоятельно не ограничено"},5e3:{records:"не ограничено",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Соберем и внесем в ЭМК всю историю Вашего здоровья",aletText:""}},y=Object.keys($),t=+y[0],y=+y[y.length-1],t={start:2e3,snap:!0,connect:[!0,!1],range:(S=$,E=y-t,_={},Object.keys(S).forEach(function(e,t,n){var a=0===t?"min":parseInt(e/E*100)+"%";t!==n.length-1||(a="max"),_[a]=+e}),_)};P&&noUiSlider.create(P,t),P&&P.noUiSlider.on("update",function(e,t){var n=$[+e[t]];k.textContent=n.title,q.textContent=n.second,L.textContent=n.aletText,x.textContent=n.records,T.value=a(e[t]),V.value=n.records,A.textContent=a(e[t])});var M,t=document.querySelector(".show-block"),C=document.querySelector(".hidden");t&&t.addEventListener("click",function(e){e.preventDefault(),C.classList.toggle("show"),this.classList.toggle("active")}),document.addEventListener("click",function(e){e.target.closest(".checked-password")&&(e.preventDefault(),"password"==(e=e.target.closest("button").previousElementSibling).type?e.type="text":e.type="password")}),document.addEventListener("click",function(e){if(e.target.closest("[data-btn-modal]")){e.preventDefault();var t,n,a=e.target.closest("[data-btn-modal]").dataset.btnModal,o=document.querySelector(".calculator__title");switch(o&&(n="б"==(t=o.innerHTML)[1]?"Заказать":"Оплатить"),a){case"login":M=$plugins.modal({title:"Вход в личный кабинет",closable:!0,width:"1000px",content:$globalHtmlElements.modalLogin}),setTimeout(function(){return M.open()},300);break;case"creatingClient":M=$plugins.modal({title:"Создание клиента",closable:!0,width:"1200px",content:$globalHtmlElements.creatingClient}),setTimeout(function(){return M.open()},300);break;case"doctorAppointment":M=$plugins.modal({title:"Прием врача",closable:!0,width:"1200px",content:$globalHtmlElements.doctorAppointment}),setTimeout(function(){return M.open()},300);break;case"organisationOfMedicalCare":M=$plugins.modal({title:"Организация медицинской помощи",closable:!0,width:"1200px",content:$globalHtmlElements.organisationOfMedicalCare}),setTimeout(function(){return M.open()},300);break;case"electronicMedicalRecord":M=$plugins.modal({title:"Электронная медицинская карта ",closable:!0,width:"1200px",content:$globalHtmlElements.electronicMedicalRecord}),setTimeout(function(){return M.open()},300);var i=document.querySelector(".fillingType"),l=document.querySelector(".numberOfRecords");i&&i.addEventListener("change",function(e){2==e.target.value?l.innerHTML="\n\t\t\t\t\t\t\t\t\t<option value='15'>- 15</option>\n\t\t\t\t\t\t\t\t\t<option value='35'>- 35</option>\n\t\t\t\t\t\t\t\t\t<option value='60'>- 60</option>\n\t\t\t\t\t\t\t\t\t<option value='85'>- 85</option>\n\t\t\t\t\t\t\t\t\t<option value='Не ограничено'>Не ограничено</option>\n\t\t\t\t\t\t\t\t":l.innerHTML="\n\t\t\t\t\t\t\t\t\t<option value='Не ограничено'>Не ограничено</option>\n\t\t\t\t\t\t\t"});break;case"qualityAssurance":M=$plugins.modal({title:"Экспертиза качества медицинской помощи ",closable:!0,width:"1200px",content:$globalHtmlElements.qualityAssurance}),setTimeout(function(){return M.open()},300);break;case"healthSpa":M=$plugins.modal({title:"Санаторно-курортное лечение ",closable:!0,width:"1200px",content:$globalHtmlElements.healthSpa}),setTimeout(function(){return M.open()},300);break;case"callback":M=$plugins.modal({title:"Бесплатная консультация",closable:!0,width:"550px",content:$globalHtmlElements.modalCallback}),setTimeout(function(){return M.open()},300);break;case"appointment-doctor":var r=e.target.closest("form"),r=new FormData(r),r={id:r.get("id"),name:"Иванова Татьяна Владимировна",secondDescr:"Акушер, гинеколог в Клинике “Сова“",imgUrl:"./web/images/content/modal-doc.jpg",specialisation:"Акушер, гинеколог",category:"Высшая",experience:"17 лет",cost:"2000 ₽ (первичный приём)",times:["12:00","13:00","14:00","23:00"],selectedDate:r.get("date"),selectedTime:r.get("time")};M=$plugins.modal({title:"Запись на прием к врачу",closable:!0,width:"600px",bodyClass:"vmodal__body--p",content:$globalHtmlElements.createModalAppointmentDoctor(r)}),setTimeout(function(){return M.open()},200);break;case"booking":r=e.target.closest("form"),r={id:new FormData(r).get("id"),name:"ЛОК “СОЛНЕЧНАЯ”",address:"Краснодарский край,г. Геленджик, ул. Туристическая, 19",imgUrl:"./web/images/content/modal-hot.jpg",cost:"2000 ₽/сутки",treatment:[1,2,3],food:[1,2,3]};M=$plugins.modal({title:"Заявка на бронирование",closable:!0,width:"600px",bodyClass:"vmodal__body--p",content:$globalHtmlElements.createModalBooking(r)}),setTimeout(function(){return M.open()},300);break;case"buy-card":M=$plugins.modal({title:"Электронная медицинская карта",closable:!0,width:"600px",bodyClass:"vmodal__body--p",content:$globalHtmlElements.createModalBuyCard(T.value,V.value,t,n)}),setTimeout(function(){return M.open()},300);break;default:return}}});var P=document.querySelectorAll(".myServiceTypeChange"),t=document.querySelectorAll(".myServiceTypeChange > select"),B=document.querySelectorAll(".g-table-big1__plus");P&&B&&(t.forEach(function(e,t){1==e.value&&B[t].setAttribute("data-btn-modal","electronicMedicalRecord"),2==e.value&&B[t].setAttribute("data-btn-modal","doctorAppointment"),3==e.value&&B[t].setAttribute("data-btn-modal","organisationOfMedicalCare"),4==e.value&&B[t].setAttribute("data-btn-modal","healthSpa"),5==e.value&&B[t].setAttribute("data-btn-modal","qualityAssurance")}),P.forEach(function(t,n){t.addEventListener("change",function(e){t.getAttribute("data-selectNumber")==B[n].getAttribute("data-btnNumber")&&(1==e.target.value&&B[n].setAttribute("data-btn-modal","electronicMedicalRecord"),2==e.target.value&&B[n].setAttribute("data-btn-modal","doctorAppointment"),3==e.target.value&&B[n].setAttribute("data-btn-modal","organisationOfMedicalCare"),4==e.target.value&&B[n].setAttribute("data-btn-modal","healthSpa"),5==e.target.value&&B[n].setAttribute("data-btn-modal","qualityAssurance"))})}))}),$(document).ready(function(){$("a[data-rel^=lightcase]").lightcase({maxWidth:1850,maxHeight:1e3})});