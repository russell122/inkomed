"use strict";document.addEventListener("DOMContentLoaded",function(){function o(e){return e.split("").reverse().join("").replace(/(.{3})/g,"$1 ").split("").reverse().join("").replace(/\.\d+/,"")}var e=document.querySelector(".mobile__change"),t=document.querySelector(".hide-nav"),n=document.querySelector(".header__user"),a=document.querySelector(".nav"),i=document.querySelector(".header .container"),l=document.querySelector(".footer .container");t&&t.addEventListener("click",function(){this.classList.toggle("active"),a.classList.toggle("active"),document.body.classList.toggle("active")});function r(){document.documentElement.clientWidth<992?(a&&n&&a.insertAdjacentElement("afterbegin",n),a&&e&&a.insertAdjacentElement("beforeend",e)):(i&&n&&i.insertAdjacentElement("beforeend",n),l&&e&&l.insertAdjacentElement("afterbegin",e))}function s(){var e=this;this.el.addEventListener("mouseenter",function(){e.autoplay.stop()}),this.el.addEventListener("mouseleave",function(){e.autoplay.start()})}r(),window.addEventListener("resize",function(){r()});new Swiper(".professionals-js",{loop:!0,autoplay:{delay:2500,disableOnInteraction:!1},slidesPerView:6,spaceBetween:25,on:{init:s},breakpoints:{320:{slidesPerView:1},360:{slidesPerView:2,spaceBetween:5},450:{slidesPerView:2,spaceBetween:5},600:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:4,spaceBetween:15},1200:{slidesPerView:6,spaceBetween:15}}});var c,d=window.matchMedia("(min-width:768px)"),t=function(){!0===d.matches?void 0!==c&&c.initialized&&c.destroy(!0,!0):!1===d.matches&&(c=new Swiper(".news-js",{loop:!0,autoplay:{delay:2500,disableOnInteraction:!1},slidesPerView:2,spaceBetween:25,breakpoints:{320:{slidesPerView:1},576:{slidesPerView:2}}}))};d.addListener(t),t();new Swiper(".parthners-js",{loop:!0,on:{init:s},autoplay:{delay:2500,disableOnInteraction:!1},slidesPerView:6,spaceBetween:15,breakpoints:{320:{slidesPerView:2},360:{slidesPerView:3},600:{slidesPerView:4},768:{slidesPerView:5},1200:{slidesPerView:6}}}),new Swiper(".services-js",{breakpoints:{320:{slidesPerView:1,spaceBetween:15},576:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:5},1200:{slidesPerView:4,spaceBetween:25}}}),new Swiper(".interface-js",{spaceBetween:35,loop:!0,on:{init:s},autoplay:{delay:2500,disableOnInteraction:!1},navigation:{prevEl:".interface__arrow-l",nextEl:".interface__arrow-r"}}),new Swiper(".license-js",{observer:!0,observeParents:!0,spaceBetween:15,on:{init:s},autoplay:{delay:2500,disableOnInteraction:!1},breakpoints:{320:{slidesPerView:2},576:{slidesPerView:3},768:{slidesPerView:4}}});var u,t=new Swiper(".gallery-thumbs",{slidesPerView:4,freeMode:!0,loopedSlides:5,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{320:{spaceBetween:15},1199:{spaceBetween:25}}}),m=(new Swiper(".gallery-top",{spaceBetween:10,loopedSlides:5,thumbs:{swiper:t}}),document.querySelector(".range-filter"));m&&(y=+m.dataset.min,V=+m.dataset.max,u=[m.previousElementSibling.querySelector("input"),m.nextElementSibling.querySelector("input")],noUiSlider.create(m,{format:{to:function(e){return Math.round(e)},from:function(e){return Number(Math.round(e))}},start:[y,V],connect:!0,step:1,range:{min:y,max:V}}),m.noUiSlider.on("update",function(e,t){u[t].value=e[t]}),u.forEach(function(e,i){e.addEventListener("change",function(){m.noUiSlider.setHandle(i,this.value)}),e.addEventListener("keydown",function(e){var t,n=m.noUiSlider.get(),o=Number(n[i]),a=m.noUiSlider.steps()[i];switch(e.which){case 13:m.noUiSlider.setHandle(i,this.value);break;case 38:null!==(t=!1===(t=a[1])?1:t)&&m.noUiSlider.setHandle(i,o+t);break;case 40:null!==(t=!1===(t=a[0])?1:t)&&m.noUiSlider.setHandle(i,o-t)}})}));var p,w,g;function b(){var n;w.forEach(function(e){e.classList.remove("is-active")}),this.classList.add("is-active"),p=this.getAttribute("data-tab-name"),n=p,g.forEach(function(e){var t=e.classList;t.contains(n)?t.add("is-active"):t.remove("is-active"),setTimeout(function(){t.contains(n)?t.add("show"):t.remove("show")},100)})}w=document.querySelectorAll(".tabs-nav__item"),g=document.querySelectorAll(".tabs-content__item"),w.forEach(function(e){e.addEventListener("click",b)});var f={title:'ЛОК "Солнечная"',address:"Краснодарский край, г. Геленджик, ул. Туристическая, 19 "},h=document.querySelector("#map");h&&ymaps.ready(function(){var e=new ymaps.Map(h,{center:[44.58704957458791,38.045314],zoom:10,controls:["smallMapDefaultSet"]}),t=new ymaps.Placemark([44.58704957458791,38.045314],{balloonContentBody:function(e){return"\n\t\t\t<div class='map-content'>\n\t\t\t\t<a href='#'>".concat(e.title," </a>\n\t\t\t\t<p> ").concat(e.address,"</p>\n\t\t\t</div>\n\t\t")}(f),hintContent:f.title},{iconLayout:"default#imageWithContent",iconImageHref:"./web/images/general/hotel.svg",iconImageSize:[50,50],iconImageOffset:[-26,-46]});e.geoObjects.add(t)});var v,t=document.querySelectorAll(".accordion__col span"),y=document.querySelector(".accordion");y&&(v=new Masonry(y,{columnWidth:".accordion__col",itemSelector:".accordion__col",horizontalOrder:!0,gutter:15})),t&&t.forEach(function(e){return e.addEventListener("click",function(e){this.closest(".accordion__col").classList.toggle("show"),v.layout()})});var S,E,_,k=document.querySelector(".calculator__title"),x=document.querySelector(".calculator__seconds"),q=document.querySelector(".calculator__count"),P=document.querySelector(".calculator__total-price"),L=document.querySelector(".calculator__alert"),V=document.querySelector(".slider-calc"),$=document.querySelector('[name="calculator"]'),T=document.querySelector('[name="making"]'),B={300:{records:"не ограничено",title:"Самостоятельное внесение данных о Вашем здоровье",second:"Рекомендуем для уверенных пользователей",aletText:""},1e3:{records:"15",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Рекомендуем на начальном этапе использования ЭМК",aletText:"Количество записей внесенных самостоятельно не ограничено"},2e3:{records:"35",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Рекомендуем на начальном этапе использования ЭМК",aletText:"Количество записей внесенных самостоятельно не ограничено"},3e3:{records:"60",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Рекомендуем на начальном этапе использования ЭМК",aletText:"Количество записей внесенных самостоятельно не ограничено"},4e3:{records:"85",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Рекомендуем на начальном этапе использования ЭМК",aletText:"Количество записей внесенных самостоятельно не ограничено"},5e3:{records:"не ограничено",title:"Сбор и внесение данных о Вашем здоровье профессиональным ассистентом",second:"Соберем и внесем в ЭМК всю историю Вашего здоровья",aletText:""}},y=Object.keys(B),t=+y[0],y=+y[y.length-1],t={start:2e3,snap:!0,connect:[!0,!1],range:(S=B,E=y-t,_={},Object.keys(S).forEach(function(e,t,n){var o=0===t?"min":parseInt(e/E*100)+"%";t!==n.length-1||(o="max"),_[o]=+e}),_)};V&&noUiSlider.create(V,t),V&&V.noUiSlider.on("update",function(e,t){var n=B[+e[t]];k.textContent=n.title,x.textContent=n.second,L.textContent=n.aletText,q.textContent=n.records,$.value=o(e[t]),T.value=n.records,P.textContent=o(e[t])});var C,V=document.querySelector(".show-block"),H=document.querySelector(".hidden");V&&V.addEventListener("click",function(e){e.preventDefault(),H.classList.toggle("show"),this.classList.toggle("active")}),document.addEventListener("click",function(e){e.target.closest(".checked-password")&&(e.preventDefault(),"password"==(e=e.target.closest("button").previousElementSibling).type?e.type="text":e.type="password")}),document.addEventListener("click",function(e){if(e.target.closest("[data-btn-modal]")){e.preventDefault();var t,n,o=e.target.closest("[data-btn-modal]").dataset.btnModal,a=document.querySelector(".calculator__title");switch(a&&(n="б"==(t=a.innerHTML)[1]?"Заказать":"Оплатить"),o){case"login":C=$plugins.modal({title:"Вход в личный кабинет",closable:!0,width:"1000px",content:$globalHtmlElements.modalLogin}),setTimeout(function(){return C.open()},300);break;case"creatingClient":C=$plugins.modal({title:"Создание клиента",closable:!0,width:"1200px",content:$globalHtmlElements.creatingClient}),setTimeout(function(){return C.open()},300);break;case"doctorAppointment":C=$plugins.modal({title:"Прием врача",closable:!0,width:"1200px",content:$globalHtmlElements.doctorAppointment}),setTimeout(function(){return C.open()},300);break;case"organisationOfMedicalCare":C=$plugins.modal({title:"Организация медицинской помощи",closable:!0,width:"1200px",content:$globalHtmlElements.organisationOfMedicalCare}),setTimeout(function(){return C.open()},300);break;case"electronicMedicalRecord":C=$plugins.modal({title:"Электронная медицинская карта ",closable:!0,width:"1200px",content:$globalHtmlElements.electronicMedicalRecord}),setTimeout(function(){return C.open()},300);break;case"qualityAssurance":C=$plugins.modal({title:"Экспертиза качества медицинской помощи ",closable:!0,width:"1200px",content:$globalHtmlElements.qualityAssurance}),setTimeout(function(){return C.open()},300);break;case"healthSpa":C=$plugins.modal({title:"Санаторно-курортное лечение ",closable:!0,width:"1200px",content:$globalHtmlElements.healthSpa}),setTimeout(function(){return C.open()},300);break;case"callback":C=$plugins.modal({title:"Бесплатная консультация",closable:!0,width:"550px",content:$globalHtmlElements.modalCallback}),setTimeout(function(){return C.open()},300);break;case"appointment-doctor":var i=e.target.closest("form"),i=new FormData(i),i={id:i.get("id"),name:"Иванова Татьяна Владимировна",secondDescr:"Акушер, гинеколог в Клинике “Сова“",imgUrl:"./web/images/content/modal-doc.jpg",specialisation:"Акушер, гинеколог",category:"Высшая",experience:"17 лет",cost:"2000 ₽ (первичный приём)",times:["12:00","13:00","14:00","23:00"],selectedDate:i.get("date"),selectedTime:i.get("time")};C=$plugins.modal({title:"Запись на прием к врачу",closable:!0,width:"600px",bodyClass:"vmodal__body--p",content:$globalHtmlElements.createModalAppointmentDoctor(i)}),setTimeout(function(){return C.open()},200);break;case"booking":i=e.target.closest("form"),i={id:new FormData(i).get("id"),name:"ЛОК “СОЛНЕЧНАЯ”",address:"Краснодарский край,г. Геленджик, ул. Туристическая, 19",imgUrl:"./web/images/content/modal-hot.jpg",cost:"2000 ₽/сутки",treatment:[1,2,3],food:[1,2,3]};C=$plugins.modal({title:"Заявка на бронирование",closable:!0,width:"600px",bodyClass:"vmodal__body--p",content:$globalHtmlElements.createModalBooking(i)}),setTimeout(function(){return C.open()},300);break;case"buy-card":C=$plugins.modal({title:"Электронная медицинская карта",closable:!0,width:"600px",bodyClass:"vmodal__body--p",content:$globalHtmlElements.createModalBuyCard($.value,T.value,t,n)}),setTimeout(function(){return C.open()},300);break;default:return}}})}),$(document).ready(function(){$("a[data-rel^=lightcase]").lightcase({maxWidth:1850,maxHeight:1e3})});